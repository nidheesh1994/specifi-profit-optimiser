import{k as x,x as A,f as r,o as a,a as f,u as o,g as N,w as g,b as t,h as v,F as k,l as U,t as i,d as S,j as d,m as n,J as M}from"./app-eZH31WVS.js";import{_ as j}from"./AuthenticatedLayout-DpeZLVQt.js";import"./ApplicationLogo-Bqqv3aaq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"min-w-full table-auto text-left"},L={class:"px-4 py-2"},$={class:"px-4 py-2"},I={class:"px-4 py-2"},J={class:"px-4 py-2"},Q={class:"px-4 py-2"},T={class:"px-4 py-2"},z={class:"px-4 py-2 space-x-2"},K=["onClick"],R=["onClick"],G={key:0},H={key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},O={class:"bg-white p-6 rounded shadow-md w-full max-w-md"},W={class:"mb-4"},X={class:"mb-4"},Y={class:"mb-4"},Z={class:"mb-4"},tt={class:"mb-4"},et={class:"mb-4"},st={class:"mb-4"},it={__name:"Index",props:{products:Array},setup(c){const w=c,u=x(!1),s=A({name:"",category:"",quantity:"",trade_price:"",retail_price:"",mpn:"",sku:""}),b=x(!1),p=x(null),_=()=>{s.reset(),u.value=!0},y=()=>{u.value=!1,s.name="",s.category="",s.quantity="",s.trade_price="",s.retail_price="",s.mpn="",s.sku="",p.value=null},h=()=>{b.value?s.put(route("products.update",p.value),{onSuccess:()=>{y(),b.value=!1,p.value=null}}):s.post(route("products.store"),{onSuccess:()=>y()})},q=m=>{const e=w.products.find(l=>l.id===m);e&&(s.name=e.name,s.category=e.category,s.quantity=e.quantity,s.trade_price=e.trade_price,s.retail_price=e.retail_price,s.mpn=e.mpn,s.sku=e.sku,p.value=e.id,b.value=!0,u.value=!0)},C=m=>{confirm("Are you sure you want to delete this product?")&&M.delete(route("products.destroy",m))};return(m,e)=>(a(),r(k,null,[f(o(N),{title:"Product List"}),f(j,null,{header:g(()=>e[7]||(e[7]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Product List ",-1)])),default:g(()=>[t("div",B,[t("div",D,[t("div",{class:"flex justify-between items-center mb-4"},[e[8]||(e[8]=t("h3",{class:"text-lg font-bold"},"All Products",-1)),t("button",{onClick:_,class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700"}," + Add Product ")]),t("div",E,[t("table",F,[e[10]||(e[10]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2"},"#"),t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Category"),t("th",{class:"px-4 py-2"},"Quantity"),t("th",{class:"px-4 py-2"},"Cost"),t("th",{class:"px-4 py-2"},"Sell"),t("th",{class:"px-4 py-2"},"Actions")])],-1)),t("tbody",null,[(a(!0),r(k,null,U(c.products,(l,P)=>(a(),r("tr",{key:l.id,class:"border-b"},[t("td",L,i(P+1),1),t("td",$,i(l.name),1),t("td",I,i(l.category),1),t("td",J,i(l.quantity),1),t("td",Q,"£"+i(l.trade_price),1),t("td",T,"£"+i(l.retail_price),1),t("td",z,[t("button",{onClick:V=>q(l.id),class:"text-blue-600 hover:underline"}," Edit ",8,K),t("button",{onClick:V=>C(l.id),class:"text-red-600 hover:underline"}," Delete ",8,R)])]))),128)),c.products.length===0?(a(),r("tr",G,e[9]||(e[9]=[t("td",{colspan:"5",class:"text-center text-gray-500 py-4"}," No products found. ",-1)]))):v("",!0)])]),u.value?(a(),r("div",H,[t("div",O,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold mb-4"},"Add New Product",-1)),t("form",{onSubmit:S(h,["prevent"])},[t("div",W,[e[11]||(e[11]=t("label",{class:"block mb-1 font-medium"},"Name",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>o(s).name=l),class:"w-full border px-3 py-2 rounded",required:""},null,512),[[n,o(s).name]])]),t("div",X,[e[12]||(e[12]=t("label",{class:"block mb-1 font-medium"},"Category",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>o(s).category=l),class:"w-full border px-3 py-2 rounded",required:""},null,512),[[n,o(s).category]])]),t("div",Y,[e[13]||(e[13]=t("label",{class:"block mb-1 font-medium"},"Quantity",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=l=>o(s).quantity=l),class:"w-full border px-3 py-2 rounded",step:"1",required:""},null,512),[[n,o(s).quantity]])]),t("div",Z,[e[14]||(e[14]=t("label",{class:"block mb-1 font-medium"},"Trade Price",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=l=>o(s).trade_price=l),class:"w-full border px-3 py-2 rounded",step:"0.01",required:""},null,512),[[n,o(s).trade_price]])]),t("div",tt,[e[15]||(e[15]=t("label",{class:"block mb-1 font-medium"},"Retail Price",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=l=>o(s).retail_price=l),class:"w-full border px-3 py-2 rounded",step:"0.01",required:""},null,512),[[n,o(s).retail_price]])]),t("div",et,[e[16]||(e[16]=t("label",{class:"block mb-1 font-medium"},"MPN",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>o(s).mpn=l),class:"w-full border px-3 py-2 rounded"},null,512),[[n,o(s).mpn]])]),t("div",st,[e[17]||(e[17]=t("label",{class:"block mb-1 font-medium"},"SKU",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>o(s).sku=l),class:"w-full border px-3 py-2 rounded"},null,512),[[n,o(s).sku]])]),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",onClick:y,class:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"}," Cancel "),e[18]||(e[18]=t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Save ",-1))])],32)])])):v("",!0)])])])]),_:1})],64))}};export{it as default};
